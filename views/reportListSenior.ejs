<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <title>받은 보고서 목록</title>
  <link href="/css/reportList.css?v=1.0" rel="stylesheet" type="text/css">
  <link href="/css/header.css?v=1.0" rel="stylesheet" type="text/css">
</head>

<body>
  <!-- Header Section -->
  <header class="header__container">
    <!-- Site H1 / display: none -->
    <h1 class="main-title">노긋노긋메인홈</h1>
    <div class="header__block">
      <a href="/Detail"> 마이페이지 </a>
      <a href="/logout"> 로그아웃 </a>
    </div>
    <div class="header_nav-main-block">
      <!-- 네비게이션에 해당하는 부분 -->
      <nav class="header__nav-block">
        <ul class="nav__list" role="navigation">
          <li class="nav__list-item">
            <a href="/main" aria-label="노긋노긋 홈페이지">
              <img src="/images/logo.png" width="50" alt="로고">
            </a>
          </li>
          <li class="nav__list-item">
            <a href="/filter"> 매칭 </a>
          </li>
          <li class="nav__list-item">
            <a href="/chat"> 채팅 </a>
          </li>
          <li class="nav__list-item">
            <a href="/promiseList"> 약속 </a>
          </li>
          <li class="nav__list-item">
            <a href="/postList/1"> 게시판 </a>
          </li>

        </ul>
      </nav>
    </div>
    <div class="side__nav-container">
      <ul class="nav__list" role="navigation">
        <li class="nav__report__list-item"><a href="/reportList">받은 보고서</a></li>
      </ul>
    </div>

  </header>

  <div>
    <ul class="list-container">
      <% reports.forEach(report=> { %>
        <li>
          <a href="/report/<%= report.reportNum %>">
            <div class="report-item">
              <div class="report-details">
                <span style="color: #2D6210; font-size: 16px; font-weight: bold;">보고서 번호:</span>
                <span style="font-size: 16px;">
                  <%= report.reportNum %>
                </span>
                <div style="display: flex; justify-content: space-between;">
                  <div>
                    <span style="color: #2D6210; font-size: 16px; font-weight: bold;">약속 제목: </span>
                    <% if (report.promiseTitle) { %>
                      <span style="font-size: 16px;">
                        <%= report.promiseTitle %>
                      </span>
                      <% } else { %>
                        <span style="font-size: 16px;">알수 없음</span>
                        <% } %>
                  </div>
                  <div>
                    <span style="color: #2D6210; font-size: 16px; font-weight: bold;">채팅 상대방 이름:</span>
                    <span style="font-size: 16px;">
                      <%= report.studentName %>
                    </span>
                  </div>
                </div>
                <div style="display: flex; justify-content: space-between;">
                  <div>
                    <span style="color: #2D6210; font-size: 16px; font-weight: bold;">작성 날짜: </span>
                    <span style="font-size: 16px;">
                      <%= report.createdAt %>
                    </span>
                  </div>
                  <div>
                    <span style="color: #2D6210; font-size: 16px; font-weight: bold;">확인 여부: </span>
                    <% if (report.reportStatus) { %>
                      <span class="status-green" style="font-size: 16px;">확인</span>
                      <% } else { %>
                        <span class="status-black" style="font-size: 16px;">미확인</span>
                        <% } %>
                          <% if (report.encodedImageBase64String) { %>
                            <img src="data:image/jpeg;base64,<%= report.encodedImageBase64String %>" alt="프로필 이미지"
                              class="profile-image">
                            <% } %>
                  </div>
                </div>
              </div>
            </div>
          </a>
        </li>
        <% }); %>
    </ul>
  </div>
  <!-- Footer Section -->
  <footer class="footer__container">
    <section class="pages__container">
      <a href="#">이용약관</a>
      <a href="#">개인정보처리방침</a>
      <a href="#">커뮤니티이용규칙</a>
      <a href="#">문의하기</a>
    </section>
  </footer>
</body>

</html>